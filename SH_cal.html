<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¼‚ç™½æ°´ç¨€é‡‹è¨ˆç®—å™¨</title>
    <style>
        :root {
            --primary-color: #007bff;
            --bg-color: #f8f9fa;
        }
        body {
            font-family: -apple-system, "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            padding: 20px;
            margin: 0;
        }
        .container {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            max-width: 450px;
            width: 100%;
        }
        h2 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 25px;
        }
        .input-section {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.1rem;
        }
        input {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            box-sizing: border-box;
            outline: none;
            transition: border-color 0.3s;
        }
        input:focus {
            border-color: var(--primary-color);
        }
        .result-card {
            background: #e7f3ff;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
            display: none; /* é è¨­éš±è— */
        }
        .logic-card {
            background: #fff9e6;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            font-size: 0.95rem;
            color: #664d03;
            border: 1px solid #ffe69c;
            display: none;
        }
        .highlight {
            color: #d93025;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .error {
            color: #d93025;
            text-align: center;
            font-weight: bold;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ§ª æ¼‚ç™½æ°´ç¨€é‡‹åŠ©æ‰‹</h2>
    
    <div class="input-section">
        <label>åŸå§‹æ¼‚ç™½æ°´æ¿ƒåº¦ (%)ï¼š</label>
        <input type="number" id="c1_input" placeholder="è«‹è¼¸å…¥æ•¸å­— (ä¾‹å¦‚: 12)" oninput="doCalculate()">
    </div>

    <div id="res_box" class="result-card">
        <p style="margin: 0;">æ¯ä½¿ç”¨ <strong>1 å…¬å‡</strong> åŸå§‹æ¶²ï¼š</p>
        <p>éœ€é¡å¤–åŠ å…¥ï¼š<br><span id="water_val" class="highlight">0</span> <strong>å…¬å‡çš„æ°´</strong></p>
        <hr style="border: 0; border-top: 1px solid #cfe2ff;">
        <p style="font-size: 0.9rem; margin-bottom: 0;">ç¨€é‡‹å¾Œç¸½é«”ç©ï¼š<span id="total_val">0</span> L</p>
    </div>

    <div id="logic_box" class="logic-card">
        <strong>ğŸ’¡ è¨ˆç®—é‚è¼¯ï¼š</strong><br>
        1. ç›®æ¨™æ¿ƒåº¦ï¼š6%<br>
        2. é«”ç©å€æ•¸ = <span id="math_ratio"></span> å€<br>
        3. å…¬å¼ï¼š$V_2 = \frac{C_1 \times V_1}{C_2}$<br>
        4. éç¨‹ï¼š<span id="math_process"></span>
    </div>

    <div id="error_msg" class="error">âš ï¸ åŸå§‹æ¿ƒåº¦å¿…é ˆå¤§æ–¼ 6%</div>
</div>

<script>
function doCalculate() {
    const c1 = parseFloat(document.getElementById('c1_input').value);
    const c2 = 6;
    const v1 = 1;

    const resBox = document.getElementById('res_box');
    const logicBox = document.getElementById('logic_box');
    const errorMsg = document.getElementById('error_msg');

    if (c1 > c2) {
        const v2 = (c1 * v1) / c2;
        const water = v2 - v1;

        // å¡«å…¥æ•¸å€¼
        document.getElementById('water_val').innerText = water.toFixed(2);
        document.getElementById('total_val').innerText = v2.toFixed(2);
        
        // å¡«å…¥é‚è¼¯
        document.getElementById('math_ratio').innerText = (c1 / c2).toFixed(2);
        document.getElementById('math_process').innerText = `(${c1}% Ã— 1L) Ã· 6% = ${v2.toFixed(2)}L (ç¸½é«”ç©)`;

        // é¡¯ç¤ºå€å¡Š
        resBox.style.display = 'block';
        logicBox.style.display = 'block';
        errorMsg.style.display = 'none';
    } else {
        resBox.style.display = 'none';
        logicBox.style.display = 'none';
        if (c1 <= c2 && c1 > 0) {
            errorMsg.style.display = 'block';
        } else {
            errorMsg.style.display = 'none';
        }
    }
}
</script>

</body>
</html>
